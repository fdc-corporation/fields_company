<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="paperformat_a4_cotizacion" model="report.paperformat">
			<field name="name">A4 - Factura</field>
			<field name="format">A4</field>
			<!-- A4 ya define el tamaño 210x297 -->
			<field name="orientation">Portrait</field>
			<field name="margin_top">10.00</field>
			<field name="margin_bottom">32</field>
			<field name="margin_left">0</field>
			<field name="margin_right">0</field>
			<field name="header_line" eval="False" />
			<field name="header_spacing">0</field>
			<field name="dpi">90</field>
		</record>
		<record id="action_report_factura" model="ir.actions.report">
			<field name="name">Factura Electronica</field>
			<field name="model">account.move</field>
			<field name="report_type">qweb-pdf</field>
			<field name="report_name">fields_company.report_factura</field>
			<field name="report_file">fields_company.report_factura</field>
			<field name="binding_model_id" ref="accountant.model_account_move" />
			<field name="binding_type">report</field>
			<field name="print_report_name">'%s - %s' % (object.name, object.partner_id.name)</field>
			<field name="paperformat_id" ref="fields_company.paperformat_a4_cotizacion" />
		</record>
		<template id="report_factura" name="report_factura">
			<t t-name="web.basic_layout">
				<t t-foreach="docs" t-as="doc">
					<t t-call="web.html_container">
						<t t-if="not o" t-set="o" t-value="doc" />
						<!-- <t t-set="o" t-value="doc"/> -->
						<div class="article" t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id" t-att-data-oe-lang="o and o.env.context.get('lang')">
							<div class="row mb-2">
								<!-- LOGO Y EMPRESA -->
								<div class="col-3 text-left">
									<img t-att-src="image_data_uri(o.company_id.logo)" style="max-height: 110px;" alt="Logo" />
								</div>
								<!-- INFORMACIÓN DE EMPRESA -->
								<div class="col-5 text-center" style="font-size: 11px;">
									<strong style="font-size: 13px;">
										<t t-esc="o.company_id.name" />
									</strong>
									<br />
									<t t-esc="o.company_id.street" />
									,
									<t t-esc="o.company_id.city" />
									,
									<t t-esc="o.company_id.zip" />
									<br />
									Teléfonos:
									<t t-esc="o.company_id.phone" />
									<br />
									Página Web:
									<a t-att-href="o.company_id.website">
										<t t-esc="o.company_id.website" />
									</a>
									<br />
									Correo Electrónico:
									<t t-esc="o.company_id.email" />
								</div>
								<!-- FACTURA ELECTRÓNICA -->
								<div class="col-4 text-center  p-1 bg-light" style="font-size: 14px; border-radius:15px;">
									<div style="background-color: #d9d9d9; padding: 3px;">
										<strong>
											<t t-if="not proforma">
												<span t-if="o.move_type == 'out_invoice' and o.state == 'posted'">
													<t name="invoice_title">
														Factura Electrónica
													</t>
												</span>
												<span t-elif="o.move_type == 'out_invoice' and o.state == 'draft'">
													<t name="draft_invoice_title">
														Borrador de factura
													</t>
												</span>
												<span t-elif="o.move_type == 'out_invoice' and o.state == 'cancel'">
													<t name="cancelled_invoice_title">
														Factura cancelada
													</t>
												</span>
												<span t-elif="o.move_type == 'out_refund' and o.state == 'posted'">
													<t name="credit_note_title">
														Nota de crédito
													</t>
												</span>
												<span t-elif="o.move_type == 'out_refund' and o.state == 'draft'">
													<t name="draft_credit_note_title">
														Borrador de nota de crédito
													</t>
												</span>
												<span t-elif="o.move_type == 'out_refund' and o.state == 'cancel'">
													<t name="cancelled_credit_note_title">
														Nota de crédito cancelada
													</t>
												</span>
												<span t-elif="o.move_type == 'in_refund' and not o.journal_id.is_self_billing">
													<t name="vendor_credit_note_title">
														Nota de crédito de proveedor
													</t>
												</span>
												<span t-elif="o.move_type == 'in_refund' and o.journal_id.is_self_billing">
													<t name="self_billing_credit_note_title">
														Self Billing Credit Note
													</t>
												</span>
												<span t-elif="o.move_type == 'in_invoice' and not o.journal_id.is_self_billing">
													<t name="vendor_bill_title">
														Factura de proveedor
													</t>
												</span>
												<span t-elif="o.move_type == 'in_invoice' and o.journal_id.is_self_billing">
													<t name="self_billing_invoice_title">
														Self Billing
													</t>
												</span>
											</t>
											<t t-else="">
												<span t-if="o.move_type == 'out_invoice' and o.state == 'posted'">
													<t name="proforma_invoice_title">
														Factura proforma
													</t>
												</span>
												<span t-elif="o.move_type == 'out_invoice' and o.state == 'draft'">
													<t name="draft_proforma_invoice_title">
														Borrador de factura proforma
													</t>
												</span>
												<span t-elif="o.move_type == 'out_invoice' and o.state == 'cancel'">
													<t name="cancelled_proforma_invoice_title">
														Factura proforma cancelada
													</t>
												</span>
												<span t-elif="o.move_type == 'out_refund' and o.state == 'posted'">
													<t name="proforma_credit_note_title">
														Nota de crédito proforma
													</t>
												</span>
												<span t-elif="o.move_type == 'out_refund' and o.state == 'draft'">
													<t name="draft_proforma_credit_note_title">
														Borrador de nota de crédito proforma
													</t>
												</span>
												<span t-elif="o.move_type == 'out_refund' and o.state == 'cancel'">
													<t name="cancelled_proforma_credit_note_title">
														Nota de crédito proforma cancelada
													</t>
												</span>
												<span t-elif="o.move_type == 'in_refund'">
													<t name="proforma_vendor_credit_note_title">
														Nota de crédito proforma de proveedor
													</t>
												</span>
												<span t-elif="o.move_type == 'in_invoice'">
													<t name="proforma_vendor_bill_title">
														Factura proforma de proveedor
													</t>
												</span>
											</t>
										</strong>
									</div>
									<p class="mb-0 mt-1">
										<strong>
											RUC:
										</strong>
										<t t-esc="o.company_id.vat" />
									</p>
									<p class="mb-0">
										<strong>
											N°:
										</strong>
										<span>
											<span t-if="o.name and o.name != '/'" t-field="o.name" />
										</span>
									</p>
								</div>
							</div>
							<div class="row mt-2" style="font-size: 11px;">
								<!-- CLIENTE -->
								<div class="col-6">
									<div class="bg-light border-bottom border-dark px-2 py-1">
										<strong>
											CLIENTE
										</strong>
										<!-- <span class="float-end"> -->
										<!-- <t t-esc="o.partner_id.id"/> -->
										<!-- </span> -->
									</div>
									<div class="p-2">
										<strong>
											<t t-esc="o.partner_id.name" />
										</strong>
										<br />
										<strong>
											DIRECCIÓN:
										</strong>
										<t t-esc="o.partner_id.contact_address" />
										<br />
										<br />
										<strong>
											DISTRITO:
										</strong>
										<t t-esc="o.partner_id.city" />
										<br />
										<strong>
											PROVINCIA:
										</strong>
										<t t-esc="o.partner_id.state_id.name" />
										<br />
										<strong>
											DEPARTAMENTO:
										</strong>
										<t t-esc="o.partner_id.state_id.name" />
										<br />
										<strong>
											TELÉFONO:
										</strong>
										<t t-esc="o.partner_id.phone or ''" />
										<br />
										<strong>
											RUC:
										</strong>
										<t t-esc="o.partner_id.vat or ''" />
										<br />
										<strong>
											E-MAIL REGISTRADO:
										</strong>
										<t t-esc="o.partner_id.email or ''" />
									</div>
								</div>
								<!-- DATOS DE FACTURA -->
								<div class="col-6">
									<div class="bg-light border-bottom border-dark px-2 py-1">
										<strong>
											DATOS DE FACTURA
										</strong>
									</div>
									<div class="p-2">
										<span>
											<t t-if="o.move_type == 'out_invoice'">
												<strong>
													FECHA DE FACTURA
												</strong>
											</t>
											<t t-elif="o.move_type == 'out_refund'">
												<strong>
													FECHA DE LA NOTA DE CRÉDITO
												</strong>
											</t>
											<t t-elif="o.move_type == 'out_receipt'">
												<strong>
													FECHA DE RECIBO
												</strong>
											</t>
											<t t-else="">
												<strong>
													FECHA
												</strong>
											</t>
										</span>
										<span t-field="o.invoice_date">
											12-09-2023
										</span>
										<br />
										<strong>
											ORDEN DE VENTA:
										</strong>
										<t t-esc="o.invoice_origin" />
										<br />
										<br />
										<strong>
											ORDEN DE COMPRA:
										</strong>
										<t t-esc="o.ref" />
										<br />
										<strong>
											TERMINO DE PAGO:
										</strong>
										<t t-esc="o.invoice_payment_term_id.name" />
										<br />
										<strong>
											MONEDA:
										</strong>
										<t t-esc="o.currency_id.name" />
										<br />
										<strong>
											OBSERVACIÓNES :
										</strong>
										<t t-esc="o.observacion or  ''" />
										<br />
										<!-- <strong>RUC:</strong> -->
										<!-- <t t-esc="o.partner_id.vat or ''"/> -->
										<!-- <br/> -->
										<!-- <strong>E-MAIL REGISTRADO:</strong> -->
										<!-- <t t-esc="o.partner_id.email or ''"/> -->
									</div>
								</div>
							</div>
							<t t-set="display_discount" t-value="any(l.discount for l in o.invoice_line_ids)" />
							<t t-set="display_taxes" t-value="any(l.tax_ids for l in o.invoice_line_ids)" />
							<div class="oe_structure" />
							<t t-set="has_long_desc" t-value="any(line.name and line.name.count('\n') &gt; 30 for line in o.invoice_line_ids if line.name)" />
							<!-- ´PRODUCTOS -->
							<table class="o_total_table table-striped table table-borderless avoid-page-break-inside mt-3" style="font-size: 10px;">
								<thead class="bg-secondary text-white text-center align-middle">
									<tr>
										<th name="th_description" class="text-start">
											<span>
												DESCRIPCIÓN
											</span>
										</th>
										<th name="th_quantity" class="text-end">
											<span>
												CANTIDAD
											</span>
										</th>
										<th name="th_priceunit" t-attf-class="text-end text-nowrap {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
											<span>
												PRECIO UNITARIO
											</span>
										</th>
										<th name="th_discount" t-if="display_discount" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
											<span>
												DESC.%
											</span>
										</th>
										<th name="th_taxes" t-if="display_taxes" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
											<span>
												IMPUESTO
											</span>
										</th>
										<th name="th_subtotal" class="text-end">
											<span>
												IMPORTE
											</span>
										</th>
									</tr>
								</thead>
								<tbody>
									<t t-set="lines" t-value="o.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)" />
									<t t-set="lines_to_report" t-value="o._get_move_lines_to_report()" />
									<t t-set="current_section" t-value="None" />
									<t t-set="current_subsection" t-value="None" />
									<t t-foreach="lines_to_report" t-as="line">
										<t t-set="is_note" t-value="line.display_type == 'line_note'" />
										<t t-set="is_section" t-value="line.display_type == 'line_section'" />
										<t t-set="is_subsection" t-value="line.display_type == 'line_subsection'" />
										<t t-set="is_product" t-value="line.display_type == 'product'" />
										<t t-if="is_section">
											<t t-set="current_section" t-value="line" />
											<t t-set="current_subsection" t-value="None" />
											<t t-set="line_padding" t-value="0" />
										</t>
										<t t-elif="is_subsection">
											<t t-set="current_subsection" t-value="line" />
											<t t-set="line_padding" t-value="2" />
										</t>
										<t t-else="">
											<t t-set="line_padding" t-value="3 if current_subsection else (2 if current_section else 0)" />
										</t>
										<t t-set="padding_class" t-value="line_padding and ('px-' + str(line_padding)) or ''" />
										<t t-set="hide_details" t-value="line.collapse_composition" />
										<t t-set="hide_prices" t-value="line.collapse_prices" />
										<t t-if="not hide_details and not hide_prices">
											<tr t-att-class="                                             'fw-bolder o_line_section' if is_section else                                             'fw-bold o_line_subsection' if is_subsection else                                             'fst-italic o_line_note' if is_note                                             else ''">
												<t t-set="line_colspan" t-value="line.get_column_to_exclude_for_colspan_calculation(line.tax_ids)" />
												<t t-if="is_product" name="account_invoice_line_accountable">
													<td name="account_invoice_line_name" t-att-class="padding_class">
														<span t-if="line.name" t-field="line.name" t-options="{'widget': 'text'}">
															Hamburguesa con tocino
														</span>
													</td>
													<td name="td_quantity" class="o_td_quantity text-end">
														<span t-field="line.quantity" class="text-nowrap">
															3.00
														</span>
														<span t-field="line.product_uom_id" groups="uom.group_uom">
															unidades
														</span>
														<span t-if="line.product_uom_id != line.product_id.uom_id" groups="uom.group_uom" class="text-muted small">
															<br />
															<t t-set="product_uom_qty" t-value="line.product_uom_id._compute_quantity(line.quantity, line.product_id.uom_id)" />
															<span t-out="product_uom_qty" t-options="{'widget': 'float', 'decimal_precision': 'Product Unit'}" data-oe-demo="3.00" />
															<span t-field="line.product_id.uom_id" data-oe-demo="units" />
														</span>
													</td>
													<td name="td_price_unit" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
														<span t-if="not hide_prices" class="text-nowrap" t-field="line.price_unit">
															9.00
														</span>
													</td>
													<td name="td_discount" t-if="display_discount" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
														<span class="text-nowrap" t-field="line.discount">
															0
														</span>
													</td>
													<t t-set="taxes" t-value="', '.join(tax.tax_label for tax in line.tax_ids if tax.tax_label)" />
													<td name="td_taxes" t-if="display_taxes" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }} {{ 'text-nowrap' if len(taxes) &lt; 10 else '' }}">
														<span t-if="not hide_prices" t-out="taxes" id="line_tax_ids">
															Impuesto del 15%
														</span>
													</td>
													<td name="td_subtotal" class="text-end o_price_total">
														<span t-if="not hide_prices and o.company_price_include == 'tax_excluded'" class="text-nowrap" t-field="line.price_subtotal">
															27.00
														</span>
														<span t-if="not hide_prices and o.company_price_include == 'tax_included'" class="text-nowrap" t-field="line.price_total">
															31.05
														</span>
													</td>
												</t>
												<t t-elif="line.display_type in ('line_section', 'line_subsection')">
													<t t-set="section_subtotal" t-value="line.get_section_subtotal()" />
													<!-- For desktop -->
													<td name="line_name_td" t-att-colspan="(1 if is_product else 6 if display_discount else 5) - line_colspan" t-attf-class="{{'d-none d-md-table-cell' if report_type == 'html' else ''}} {{padding_class}}">
														<span t-if="line.name" t-field="line.name" t-options="{'widget': 'text'}">
															Un título de sección
														</span>
													</td>
													<!-- For mobile -->
													<td colspan="2" t-attf-class="{{'d-md-none d-table-cell' if report_type == 'html' else 'd-none'}} {{padding_class}}">
														<span t-if="line.name" t-field="line.name" t-options="{'widget': 'text'}">
															Un título de sección
														</span>
													</td>
													<td colspan="1" class="text-end o_price_total">
														<span t-out="section_subtotal" class="text-nowrap" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}" />
													</td>
												</t>
												<t t-elif="is_note">
													<td colspan="99">
														<span t-if="line.name" t-field="line.name" t-options="{'widget': 'text'}">
															Una nota, cuyo contenido por lo regular se aplica a la sección o producto anterior.
														</span>
													</td>
												</t>
											</tr>
										</t>
										<t t-else="">
											<t t-if="hide_details" t-set="grouped_lines" t-value="line._get_child_lines()" />
											<t t-if="hide_prices" t-set="grouped_lines" t-value="line._get_child_lines(False)" />
											<t t-foreach="grouped_lines" t-as="grouped_line">
												<t t-if="grouped_line['display_type'] == 'product'">
													<t t-set="line_colspan" t-value="1" />
												</t>
												<t t-else="">
													<t t-set="line_colspan" t-value="3 + (1 if display_discount else 0) + (1 if display_taxes and not grouped_line.get('taxes') else 0)" />
												</t>
												<t t-if="hide_prices">
													<t t-set="line_padding" t-value="3 if current_subsection and grouped_line['display_type'] != 'line_subsection' and grouped_line.get('original_display_type') != 'line_subsection' else                                                             2 if current_section and grouped_line['display_type'] != 'line_section' and grouped_line.get('original_display_type') != 'line_section' else                                                             0" />
													<t t-set="padding_class" t-value="line_padding and ('px-' + str(line_padding)) or ''" />
													<t t-if="grouped_line['display_type'] == 'line_subsection'">
														<t t-set="current_subsection" t-value="grouped_line" />
													</t>
												</t>
												<tr t-att-class="                                                 'fw-bolder o_line_section' if grouped_line.get('display_type') == 'line_section' and not hide_details else                                                 'fw-bold o_line_subsection' if grouped_line.get('display_type') == 'line_subsection' and not hide_details else                                                 ''">
													<!-- For desktop -->
													<td name="account_invoice_line_name_grouped_desktop" t-att-colspan="line_colspan" t-attf-class="{{'d-none d-md-table-cell' if report_type == 'html' else ''}} {{padding_class}}">
														<span t-out="grouped_line['name']" t-options="{'widget': 'text'}">
															Group 1
														</span>
													</td>
													<!-- For mobile -->
													<td name="account_invoice_line_name_grouped" t-att-colspan="2 if grouped_line['display_type'] != 'product' else 1" t-attf-class="{{'d-md-none d-table-cell' if report_type == 'html' else 'd-none'}} {{padding_class}}">
														<span t-out="grouped_line['name']" t-options="{'widget': 'text'}">
															Group 1
														</span>
													</td>
													<td name="td_quantity_grouped" colspan="1" t-if="hide_details or (hide_prices and grouped_line['display_type'] not in ('line_section', 'line_subsection'))" class="o_td_quantity text-end">
														<!-- If line is hide composition, always show 1 unit -->
														<div t-if="hide_details">
															<span>
																1.00
															</span>
															<span groups="uom.group_uom">
																Units
															</span>
														</div>
														<!-- Else, show the line quantity -->
														<div t-if="hide_prices and grouped_line['display_type'] not in ('line_section', 'line_subsection')">
															<span t-out="grouped_line['quantity']" t-options="{'widget': 'float', 'decimal_precision': 'Product Unit'}">
																1.00
															</span>
															<t t-if="grouped_line.get('line_uom')">
																<span t-out="grouped_line['line_uom'].display_name" groups="uom.group_uom">
																	Unidad
																</span>
																<span t-if="grouped_line.get('product_uom') != grouped_line['line_uom']" groups="uom.group_uom" class="text-muted small">
																	<br />
																	<t t-set="product_uom_qty" t-value="grouped_line['line_uom']._compute_quantity(grouped_line['quantity'], grouped_line['product_uom'])" />
																	<span t-out="product_uom_qty" t-options="{'widget': 'float', 'decimal_precision': 'Product Unit'}" data-oe-demo="3.00" />
																	<span t-out="grouped_line['product_uom'].display_name" data-oe-demo="units" />
																</span>
															</t>
														</div>
													</td>
													<td name="td_price_unit_grouped" t-if="grouped_line['display_type'] not in ('line_section', 'line_subsection')" colspan="1" t-attf-class="text-end {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
														<span t-if="not hide_prices" t-out="grouped_line['price_subtotal']" t-options="{'widget': 'float', 'decimal_precision': 'Product Price'}" class="text-nowrap">
															9.00
														</span>
													</td>
													<td name="td_discount_grouped" t-if="display_discount and grouped_line['display_type'] == 'product'" colspan="1" class="d-none d-md-table-cell" />
													<td name="td_taxes_grouped" colspan="1" t-if="(display_taxes and grouped_line['display_type'] in ('line_section', 'line_subsection') and grouped_line.get('taxes')) or grouped_line['display_type'] == 'product'" t-attf-class="text-end {{'d-none d-md-table-cell' if report_type == 'html' else ''}}">
														<span t-if="grouped_line.get('taxes')" t-out="','.join(grouped_line['taxes'])" id="grouped_line_tax_ids">
															Impuesto del 15%
														</span>
													</td>
													<td name="td_subtotal_grouped" colspan="1" class="text-end o_price_total">
														<span t-if="(grouped_line.get('display_type') in ('line_section', 'line_subsection') or hide_details) and o.company_price_include == 'tax_excluded'" class="text-nowrap" t-out="grouped_line['price_subtotal']" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}">
															27.00
														</span>
														<span t-if="(grouped_line.get('display_type') in ('line_section', 'line_subsection') or hide_details) and o.company_price_include == 'tax_included'" class="text-nowrap" t-out="grouped_line['price_total']" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}">
															31.05
														</span>
													</td>
												</tr>
											</t>
										</t>
									</t>
								</tbody>
							</table>
							<!-- SECCION DE SUBTOTAL -->
							<!-- <t t-if="o.partner_id.l10n_latam_identification_type_id" t-out="o.partner_id.l10n_latam_identification_type_id.name" id="inv_tax_id_label"/> -->
							<t t-set="extra_edi_vals" t-value="o._l10n_pe_edi_get_extra_report_values()" />
							<t t-set="spot" t-value="o._l10n_pe_edi_get_spot()" />
							<div class="container-fluid">
								<div class="row mt-4">
									<!-- Columna izquierda: Código QR y cuentas -->
									<!-- <div class="col-8"> -->
									<!-- Código QR -->
									<div class="mb-2 col-2">
										<img t-if="extra_edi_vals" class="rounded" t-att-src="'/report/barcode/?barcode_type=%s&amp;value=%s&amp;width=%s&amp;height=%s&amp;quiet=%s' % ('QR', extra_edi_vals['qr_str'], 100, 100, 0)" />
									</div>
									<!-- Cuentas bancarias -->
									<!-- <p> -->
									<!-- <strong>Para transacciones</strong> -->
									<!-- </p> -->
									<div class="col-7">
										<table class="table table-sm table-striped" style="font-size: 10px;text-align:center;border:0px;">
											<thead style="border:0px;" class="bg-secondary text-white text-center">
												<tr style="border:0px;">
                                                    <th style="border:0px;text-align:center;">
                                                                Entidad
                                                            </th>
                                                    <th style="border:0px;text-align:center;">
                                                                Moneda
                                                            </th>
                                                    <th style="border:0px;text-align:center;">
                                                                Tipo de Cuenta
                                                            </th>
                                                    <th style="border:0px;text-align:center;">
                                                                Numero
                                                            </th>
                                                    <th style="border:0px;text-align:center;">
                                                                CCI
                                                            </th>
                                                </tr>
											</thead>
											<tbody style="border:0px;">
												<tr style="border:0px;">
													<td style="border:0px;">
														BCP
													</td>
													<td style="border:0px;">
														Soles
													</td>
													<td style="border:0px;">
														Corriente
													</td>
													<td style="border:0px;">
														191-2401343-0-89
													</td>
													<td style="border:0px;">
														00219100240134308957
													</td>
												</tr>
												<tr style="border:0px;">
													<td style="border:0px;">
														BCP
													</td>
													<td style="border:0px;">
														Dolares
													</td>
													<td style="border:0px;">
														Corriente
													</td>
													<td style="border:0px;">
														193-2450819-1-55
													</td>
													<td style="border:0px;">
														00219300245081915518
													</td>
												</tr>
												<tr style="border:0px;">
													<td style="border:0px;">
														Nacion
													</td>
													<td style="border:0px;">
														Soles
													</td>
													<td style="border:0px;">
														Detracciones
													</td>
													<td style="border:0px;">
														00-085-025643
													</td>
													<td style="border:0px;">
														01808500008502564319
													</td>
												</tr>
												<tr style="border:0px;">
													<td style="border:0px;">
														Yape
													</td>
													<td style="border:0px;">
														Soles
													</td>
													<td style="border:0px;">
														-
													</td>
													<td style="border:0px;">
														981 094 754
													</td>
													<td style="border:0px;">
														-
													</td>
												</tr>
											</tbody>
										</table>
									</div>
									<!-- Monto en letras -->
									<!-- <div class="mt-2"> -->
									<!-- <strong>SON:</strong> -->
									<!-- <span> -->
									<!-- <t t-esc="o.amount_to_text"/> -->
									<!-- </span> -->
									<!-- </div> -->
									<!-- </div> -->
									<!-- Columna derecha: Totales -->
									<div class="col-3">
										<div id="right-elements" class="">
											<div id="total" class="">
												<div class="ms-auto">
													<table class="o_total_table table-striped table table-borderless avoid-page-break-inside" style="font-size:11px;padding:0px 10px;">
														<!-- Tax totals summary (invoice currency) -->
														<t t-if="o.tax_totals" t-call="account.document_tax_totals">
															<t t-set="tax_totals" t-value="o.tax_totals" />
															<t t-set="currency" t-value="o.currency_id" />
														</t>
														<!-- Payments -->
														<t t-if="print_with_payments">
															<t t-if="o.payment_state != 'invoicing_legacy'">
																<t t-set="payments_vals" t-value="o.sudo().invoice_payments_widget and o.sudo().invoice_payments_widget['content'] or []" />
																<t t-foreach="payments_vals" t-as="payment_vals">
																	<tr t-if="payment_vals['is_exchange'] == 0">
																		<td>
																			<i class="oe_form_field text-end oe_payment_label">
																				<t t-if="payment_vals['is_refund']">
																					Revertido el
																				</t>
																				<t t-else="">
																					Pagado el
																				</t>
																				<t t-out="payment_vals['date']" t-options="{&quot;widget&quot;: &quot;date&quot;}">
																					19-09-2021
																				</t>
																			</i>
																		</td>
																		<td class="text-end">
																			<span t-out="payment_vals['amount']" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}">
																				20.00
																			</span>
																		</td>
																	</tr>
																</t>
																<t t-if="len(payments_vals) &gt; 0">
																	<tr class="fw-bold">
																		<td>
																			Cantidad por pagar
																		</td>
																		<td class="text-end">
																			<span t-field="o.amount_residual">
																				11.05
																			</span>
																		</td>
																	</tr>
																</t>
															</t>
														</t>
													</table>
												</div>
											</div>
											<!-- Tax totals summary (company currency) -->
											<!-- <t t-if="o.tax_totals and o.tax_totals.get('display_in_company_currency')"> -->
											<!-- <t t-set="tax_totals" t-value="o.tax_totals"/> -->
											<!-- <t t-call="account.document_tax_totals_company_currency_template"/> -->
											<!-- </t> -->
											<!-- <t t-else=""> -->
											<!-- <div class="oe_structure"/> -->
											<!-- </t> -->
										</div>
									</div>
								</div>
								<div class="row">
									<div class="mb-2">
										<p class="text-center lh-sm" style="font-size:12px;" t-if="o.company_id.display_invoice_amount_total_words">
											Importe total con letra:
											<small class="text-muted lh-sm">
												<span t-field="o.amount_total_words">
													Treinta y un dólares con cinco centavos
												</span>
											</small>
										</p>
									</div>
								</div>
								<div class="row">
                            <div t-if="spot or extra_edi_vals or o.tiene_retencion" id="l10n_pe_spot" class="">
                                <table class="table" style="border:0px;">
                                    <tr clas="row" style="border:0px;">
                                        <table class="table" style="border:1px solid black;padding-left:15px;font-size:12px;">
                                            <t t-if="o.tiene_retencion">
                                                <tbody style="border:1px solid black;padding-left:20px;">
                                                    <tr class="row" style="border:0px;padding-left:20px;">
                                                        <td class="col-12" style="border:0px;padding:0px;width:100% !important;padding-top:9px;">
                                                            <strong>
																		Información de la retención
																	</strong>
                                                        </td>
                                                    </tr>
                                                    <tr class="row" style="border:0px;padding-left:25px;padding-bottom:9px;">
                                                        <td class="col-2" style="border:0px;padding:0px;">
																	Base imponible de la Retención:
																</td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
																	S/.
																	
                                                            <t t-esc="o.amount_residual_signed"/>
                                                        </td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
																	% de retención:
																</td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
                                                            <t t-esc="o.company_id.procentaje_retencion"/>
																	%
																
                                                        </td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
																	Monto de la retención:
																</td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
																	S/.
																	
                                                            <t t-esc="o.monto_retencion"/>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </t>
                                            <t t-if="spot">
                                                <tbody style="border:1px solid black;padding-left:20px;">
                                                    <tr class="row" style="border:0px;padding-left:20px;">
                                                        <td class="col-12" colspan="6" style="border:0px;padding:0px;width:100% !important;padding-top:9px;">
                                                            <strong>
																		Operación sujeta al Sistema de Pago de Obligaciónes Tributarias - SPOT
																	</strong>
                                                        </td>
                                                    </tr>
                                                    <tr class="row" style="border:0px;padding-left:25px;padding-bottom:9px;">
                                                        <td class="col-2" style="border:0px;padding:0px;">
																	Nro. Cta. Banco de la Nación
																</td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
                                                            <span t-out="spot['payee_financial_account']"/>
                                                        </td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
																	% de detracción:
																</td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
                                                            <t t-out="spot['payment_percent']"/>
																	%
																
                                                        </td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
																	Monto detracción:
																</td>
                                                        <td class="col-2" style="border:0px;padding:0px;">
                                                            <span t-out="spot['amount']" t-options="{'widget': 'monetary', 'display_currency': spot['currency']}"/>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </t>
                                        </table>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div style="margin-top:10px;">
                            <div style="width:100%;border:1px solid black; padding:5px;">
                                <t t-set="payment_term_details" t-value="o.payment_term_details"/>
                                <table class="table" style="margin:0px;border:1px solid black;padding:10px;font-size:12px;width:100% !important;">
                                    <tbody style="border:1px solid black;padding-left:18px;width:100% !important;">
                                        <tr class="row" style="border:0px;padding-left:18px;width:100% !important;">
                                            <td class="col-12" colspan="3" style="border:0px;padding:0px;width:200px !important;padding-bottom: 3px;padding-top: 8px;">
                                                <strong>
															Información del crédito
														</strong>
                                            </td>
                                        </tr>
                                        <!-- <tr class="row" style="border:0px;padding-left:15px;padding-bottom: 3px;"> -->
                                        <!-- <td class="col-3" style="border:0px;padding:0px;width:190px !important;">Monto neto pendiente de pago:</td> -->
                                        <!-- <td class="col-1" style="border:0px;padding:0px;">:</td> -->
                                        <!-- <td class="col-8" style="border:0px;padding:0px;width:190px !important;"> -->
                                        <!-- <t t-set="monto_neto_pagar_base" t-value="" -->
                                        <!-- <t t-esc="o.currency_id.symbol"/> -->
                                        <!-- <t t-if="o.currency_id.id == o.company_id.currency_id.id"> -->
                                        <!-- <span class="text-nowrap" t-esc="'%.2f'%(monto_neto_pagar)"/> -->
                                        <!-- </t> -->
                                        <!-- <t t-else=""> -->
                                        <!-- <span class="text-nowrap" t-esc="'%.2f'%(monto_neto_pagar_base)"/> -->
                                        <!-- </t> -->
                                        <!-- </td> -->
                                        <!-- </tr> -->
                                        <tr class="row" style="border:0px;padding-left:18px;padding-bottom: 8px;">
                                            <td class="col-3" style="border:0px;padding:0px;width:190px !important;">
														Total de Cuotas:
													</td>
                                            <td class="col-1" style="border:0px;padding:0px;">
														:
													</td>
                                            <td class="col-8" style="border:0px;padding:0px;width:190px !important;">
                                                <t t-if="payment_term_details">
                                                    <t t-esc="len(payment_term_details) "/></t>
                                                <t t-else="">
															0
														</t>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <!-- <span id="payment_terms_note_id" t-if="o.invoice_payment_term_id.note" t-field="o.invoice_payment_term_id.note" name="payment_term">Pago en un plazo de 30 días naturales</span> -->
                                <!-- <br/> -->
                                <t t-set="payment_term_details" t-value="o.payment_term_details"/>
                                <div t-if="payment_term_details" class="m-1">
                                    <span id="payment_terms_note_id" t-if="o.invoice_payment_term_id.note" t-field="o.invoice_payment_term_id.note" name="payment_term">
												Pago en un plazo de 30 días naturales
											</span>
                                    <br/>
                                    <t t-if="o.invoice_payment_term_id.display_on_invoice and payment_term_details">
                                        <div t-if="o.show_payment_term_details" id="total_payment_term_details_table" class="row">
                                            <div t-attf-class="#{'col-10' if report_type != 'html' else 'col-sm-10 col-md-9'}">
                                                <t t-if="o._is_eligible_for_early_payment_discount(o.currency_id,o.invoice_date)">
                                                    <td>
                                                        <span t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}" t-out="o.invoice_payment_term_id._get_amount_due_after_discount(o.amount_total, o.amount_tax)">
																	30.00
																</span>
																debido si se paga antes de
																
                                                        <span t-out="o.invoice_payment_term_id._get_last_discount_date_formatted(o.invoice_date)">
																	01-01-2024
																</span>
                                                    </td>
                                                </t>
                                                <t t-if="len(payment_term_details) &gt; 1" t-foreach="payment_term_details" t-as="term">
                                                    <div>
                                                        <span t-out="term_index + 1">
																	1
																</span>
																- Plazo de
																
                                                        <t t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}" t-out="term.get('amount')" class="text-end">
																	31.05
																</t>
                                                        <span>
																	hasta
																</span>
                                                        <t t-out="term.get('date')" class="text-start">
																	01-01-2024
																</t>
                                                    </div>
                                                </t>
                                            </div>
                                        </div>
                                        <p t-if="spot.get('has_installments')">
													La detracción debe pagarse en la primera cuota.
												</p>
                                    </t>
                                </div>
                            </div>
                        </div>
							</div>
						</div>
					</t>
				</t>
			</t>
		</template>
	</data>
</odoo>
