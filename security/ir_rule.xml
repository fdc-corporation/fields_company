<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- RestricciÃ³n para el grupo de vendedores -->
    <record id="sale_order_rule_vendedor_ventas" model="ir.rule">
        <field name="name">Vendedores: solo sus cotizaciones y las donde son asesores</field>
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="groups" eval="[(4, ref('fields_company.group_sale_asesor'))]"/>
        <field name="domain_force">
            ['|', ('create_uid', '=', user.id), ('asesores', 'in', [user.id])]
        </field>
    </record>
    <record id="sale_order_rule_vendedor_ventas_lineas" model="ir.rule">
        <field name="name">Vendedores: solo sus cotizaciones, productos y las donde son asesores</field>
        <field name="model_id" ref="sale.model_sale_order_line"/>
        <field name="groups" eval="[(4, ref('fields_company.group_sale_asesor'))]"/>
        <field name="domain_force">
            ['|', ('create_uid', '=', user.id), ('asesores', 'in', [user.id])]
        </field>
    </record>
    <record id="sale_order_rule_vendedor_crm" model="ir.rule">
        <field name="name">Vendedores: solo sus oportunidades y las donde son asesores</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="groups" eval="[(4, ref('fields_company.group_sale_asesor'))]"/>
        <field name="domain_force">
            ['|', ('user_id', '=', user.id), ('asesores', 'in', [user.id])]
        </field>
    </record>
</odoo>
